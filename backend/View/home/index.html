<!doctype html>
<html lang="fr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Outil candidature - Home</title>
  <link rel="stylesheet" href="/assets/css/styles.css" />
</head>

<body class="dashboard-home">
  <main class="dashboard-layout">
    <aside class="dashboard-sidebar" aria-label="Navigation principale du dashboard">
      <div class="sidebar-header">
        <div class="sidebar-brand-dot" aria-hidden="true"></div>
        <h1>Candidature</h1>
      </div>
      <p id="home-message" class="message" aria-live="polite"></p>  
      <p class="sidebar-kicker">Menu</p>

      <nav>
        <ul class="sidebar-nav">
          <li data-auth-home-link hidden><a href="/home">Home</a></li>
          <li><a href="#" class="is-active" data-dashboard-target="offres-du-jour">Offres du jour</a></li>
          <li><a href="#" data-dashboard-target="kpi-dashboard">Dashboard KPI</a></li>
          <li><a href="#" data-dashboard-target="suivi-candidatures">Suivi candidatures</a></li>
          <li><a href="#" data-dashboard-target="profil-utilisateur">Profil utilisateur</a></li>
          <li>
            <form method="POST" action="/logout">
              <button type="submit">D√©connexion</button>
            </form>
          </li>
        </ul>
      </nav>
    </aside>

    <section class="dashboard-content" aria-label="Contenu du dashboard">
      <!-- <header class="dashboard-topbar card">
        <label class="dashboard-search" for="dashboard-search-input">
          <span aria-hidden="true">üîé</span>
          <input id="dashboard-search-input" type="text" placeholder="Rechercher une section..." />
        </label>
        <div class="dashboard-topbar-actions">
          <button type="button">Nouvelle candidature</button>
          <button type="button" class="secondary">Importer des donn√©es</button>
        </div>
      </header> -->

      <!-- <section class="dashboard-welcome card">
        <h2>Dashboard</h2>
        <p class="subtitle">Planifiez, suivez et centralisez vos candidatures.</p>

      </section> -->

      <section id="kpi-dashboard" class="card dashboard-section dashboard-panel" data-dashboard-panel="kpi-dashboard"
        aria-labelledby="kpi-title" hidden>
        <div class="section-header">
          <h2 id="kpi-title">Dashboard KPI</h2>
          <p class="subtitle">Vue synth√©tique jour / semaine / mois.</p>
        </div>

        <div class="kpi-grid">
          <article class="kpi-card kpi-highlight">
            <p class="kpi-label">Offres disponibles</p>
            <p class="kpi-value">--</p>
            <p class="kpi-meta">Filtre: jour / semaine / mois</p>
          </article>
          <article class="kpi-card">
            <p class="kpi-label">Candidatures envoy√©es</p>
            <p class="kpi-value">--</p>
            <p class="kpi-meta">P√©riode active</p>
          </article>
          <article class="kpi-card">
            <p class="kpi-label">Comp√©tences les plus demand√©es</p>
            <p class="kpi-value">--</p>
            <p class="kpi-meta">Top comp√©tences</p>
          </article>
        </div>

        <!-- TODO : calculer le nombre d'offres depuis la base -->
        <!-- TODO : calculer le nombre de candidatures envoy√©es depuis la base -->
        <!-- TODO : r√©cup√©rer les comp√©tences les plus demand√©es -->
        <div class="dashboard-placeholder"></div>
      </section>

      <section id="offres-du-jour" class="card dashboard-section dashboard-panel" data-dashboard-panel="offres-du-jour"
        aria-labelledby="offres-title">
        <div class="section-header">
          <h2 id="offres-title">Offres du jour</h2>
          <p class="subtitle">S√©lection personnalis√©e des offres pertinentes.</p>
        </div>
        <!-- TODO : r√©cup√©rer les offres depuis la base de donn√©es pour l'utilisateur -->
        <div class="dashboard-placeholder"></div>
      </section>

      <section id="suivi-candidatures" class="card dashboard-section dashboard-panel"
        data-dashboard-panel="suivi-candidatures" aria-labelledby="suivi-title" hidden>
        <div class="section-header">
          <h2 id="suivi-title">Suivi des candidatures</h2>
          <p class="subtitle">Envoy√©es, relances, sans r√©ponse depuis 7 jours.</p>
        </div>
        <!-- TODO : r√©cup√©rer les candidatures envoy√©es depuis la base -->
        <!-- TODO : calculer les offres sans r√©ponse depuis 7 jours -->
        <div class="dashboard-placeholder"></div>
      </section>

      <section id="profil-utilisateur" class="card dashboard-section dashboard-panel"
        data-dashboard-panel="profil-utilisateur" aria-labelledby="profil-title" hidden>
        <div class="section-header">
          <h2 id="profil-title">Profil utilisateur</h2>
          <p class="subtitle">Informations personnelles et pr√©f√©rences.</p>
        </div>
        <!-- TODO : r√©cup√©rer les donn√©es du profil depuis la base -->
        <!-- TODO : permettre mise √† jour des pr√©f√©rences -->
        <div class="dashboard-placeholder"></div>
      </section>
    </section>
  </main>

  <section id="profile-modal" class="modal hidden" aria-hidden="true" role="dialog" aria-modal="true"
    aria-labelledby="modal-title">
    <div class="modal-card">
      <div class="progress-header">
        <p id="progress-text" class="progress-text">Finalisation du profil : 0%</p>
        <div class="progress-track" aria-hidden="true">
          <div id="progress-bar" class="progress-bar"></div>
        </div>
      </div>

      <h2 id="modal-title">Compl√©ter votre profil</h2>
      <p id="modal-question" class="modal-question"></p>

      <div id="modal-field-container" class="modal-field-container"></div>

      <div class="modal-actions">
        <button id="back-button" type="button" class="secondary">Retour</button>
        <button id="next-button" type="button">Suivant</button>
      </div>
    </div>
  </section>

  <script src="/assets/js/home.js"></script>
</body>

</html>